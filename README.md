# پروژه تبدیل و پردازش فایل‌های صوتی و تصویری

این پروژه مجموعه‌ای از ابزارهای ساده برای تبدیل و پردازش فایل‌های صوتی و تصویری است که از طریق منوی کلیک راست ویندوز قابل دسترسی هستند.

![تبدیل MP4 به MP3](Screenshot%202025-03-27%20113902.png)

## ساختار پروژه

این پروژه بر اساس اصول زیر طراحی شده است:

- **هر فیچر = یک هدف**: هر قابلیت به عنوان یک هدف مستقل در نظر گرفته می‌شود
- **هر فیچر = یک فایل پایتون**: برای هر فیچر یک فایل پایتون جداگانه نوشته می‌شود که منطق اصلی را پیاده‌سازی می‌کند
- **هر فیچر = یک فایل رجیستری**: برای هر فیچر یک فایل `.reg` ساخته می‌شود که با اجرای آن در ویندوز، گزینه مربوطه به منوی کلیک راست اضافه می‌شود
- **ثبت در README**: هر فیچر جدید در فایل README اصلی پروژه ثبت و مستندسازی می‌شود

### یادداشت سازماندهی

در حال حاضر تمام فایل‌های پروژه در ریشه پوشه قرار دارند. در آینده بهتر است هر فیچر در پوشه مخصوص به خودش قرار بگیرد تا پروژه منظم‌تر شود.

## پیش‌نیازها

- نصب **Python 3** (پایتون 3.13 یا بالاتر)
- نصب **FFmpeg** (شامل `ffmpeg` و `ffprobe`) و اضافه بودن به PATH سیستم
- سیستم عامل **Windows**

## فیچرهای موجود

### 1. تبدیل MP4 به MP3

**فایل پایتون**: `convert_mp4_to_mp3.py`  
**فایل رجیستری**: `convert to mp3.reg`

تبدیل فایل‌های ویدیویی MP4 به فایل‌های صوتی MP3.

**نحوه استفاده**:
1. فایل `convert to mp3.reg` را اجرا کنید و Allow بزنید
2. روی هر فایل `.mp4` راست‌کلیک کنید
3. گزینه "Convert to MP3" را انتخاب کنید
4. فایل MP3 در همان مسیر فایل اصلی ساخته می‌شود

---

### 2. تبدیل M4A به MP3

**فایل پایتون**: `convert_m4a_to_mp3.py`  
**فایل رجیستری**: `add_right_click_m4a.reg`

تبدیل فایل‌های صوتی M4A به فرمت MP3.

**نحوه استفاده**:
1. فایل `add_right_click_m4a.reg` را اجرا کنید و Allow بزنید
2. روی هر فایل `.m4a` راست‌کلیک کنید
3. گزینه "Convert to MP3" را انتخاب کنید
4. فایل MP3 در همان مسیر فایل اصلی ساخته می‌شود

---

### 3. تقسیم ویدیو از وسط با هم‌پوشانی (MP4)

**فایل پایتون**: `split_middle_overlap.py`  
**فایل رجیستری**: `add_right_click_split_middle_python.reg`

تقسیم فایل‌های ویدیویی MP4 از نقطه میانی با هم‌پوشانی 1 ثانیه‌ای. فایل به دو قسمت تقسیم می‌شود که قسمت دوم از 1 ثانیه قبل از نقطه میانی شروع می‌شود.

**نحوه استفاده**:
1. فایل `add_right_click_split_middle_python.reg` را اجرا کنید و Allow بزنید
2. روی هر فایل `.mp4` راست‌کلیک کنید
3. گزینه "Split midpoint (1s overlap)" را انتخاب کنید
4. دو فایل خروجی ساخته می‌شوند: `<name>_part1.mp4` و `<name>_part2.mp4`

---

### 4. تقسیم فایل صوتی از وسط با هم‌پوشانی (MP3)

**فایل پایتون**: `split_middle_overlap.py`  
**فایل رجیستری**: `add_right_click_split_middle_python_mp3.reg`

تقسیم فایل‌های صوتی MP3 از نقطه میانی با هم‌پوشانی 1 ثانیه‌ای. همان منطق فیچر قبلی اما برای فایل‌های MP3.

**نحوه استفاده**:
1. فایل `add_right_click_split_middle_python_mp3.reg` را اجرا کنید و Allow بزنید
2. روی هر فایل `.mp3` راست‌کلیک کنید
3. گزینه "Split midpoint (1s overlap)" را انتخاب کنید
4. دو فایل خروجی ساخته می‌شوند: `<name>_part1.mp3` و `<name>_part2.mp3`

---

### 5. اضافه کردن موزیک به فایل‌های MP3

**فایل Batch**: `add_music.bat`  
**فایل رجیستری**: `add music.reg`

اضافه کردن فایل‌های موزیک ثابت (start.mp3، middle.mp3، finish.mp3) به ابتدا، وسط و انتهای فایل‌های MP3 موجود در پوشه. فایل اصلی از وسط تقسیم می‌شود و موزیک‌ها در بین قسمت‌ها قرار می‌گیرند.

**نحوه استفاده**:
1. فایل‌های `start.mp3`، `middle.mp3` و `finish.mp3` را در پوشه پروژه قرار دهید
2. فایل `add music.reg` را اجرا کنید و Allow بزنید
3. روی هر فایل `.mp3` راست‌کلیک کنید
4. گزینه "Add Custom Music" را انتخاب کنید
5. فایل خروجی با نام `output_<name>.mp3` ساخته می‌شود

**نکته**: این فیچر تمام فایل‌های MP3 موجود در پوشه فعلی را پردازش می‌کند (به جز فایل‌های start.mp3، middle.mp3 و finish.mp3).

---

## نحوه نصب

1. تمام فایل‌های پروژه را دانلود کنید
2. برای هر فیچری که می‌خواهید استفاده کنید، فایل `.reg` مربوطه را اجرا کنید
3. در پنجره UAC که باز می‌شود، "Yes" یا "Allow" را بزنید
4. حالا گزینه‌های مربوطه در منوی کلیک راست فایل‌های مربوطه ظاهر می‌شوند

## نحوه حذف منوهای اضافه شده

برای حذف گزینه‌های اضافه شده از منوی کلیک راست، می‌توانید از Registry Editor استفاده کنید یا فایل‌های رجیستری را به صورت دستی ویرایش کنید.

## اجرای دستی اسکریپت‌ها

همه اسکریپت‌های پایتون را می‌توان به صورت دستی نیز اجرا کرد:

```bash
python convert_mp4_to_mp3.py "path\to\file.mp4"
python convert_m4a_to_mp3.py "path\to\file.m4a"
python split_middle_overlap.py "path\to\file.mp4"
```

## یادداشت توسعه

- هر فیچر جدید باید شامل یک فایل پایتون و یک فایل رجیستری باشد
- نام فایل‌ها باید واضح و توصیفی باشند
- هر فیچر جدید باید در این README مستندسازی شود
- در آینده بهتر است هر فیچر در پوشه مخصوص به خودش قرار بگیرد
